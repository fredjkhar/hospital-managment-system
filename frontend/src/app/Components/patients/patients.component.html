<body>
    <div>
      <h2>Patients Information</h2>
      <div class="header-container">
        <button (click)="openRegistrationForm()" class="register-button">
          <i class="material-icons">person_add</i>     
          <span class="button-text">Register Patient</span>
        </button>
        <input type="text" [(ngModel)]="searchText" placeholder="Search patients" class="search-bar" />
        <button (click)="search()" class="search-button">
          <i class="material-icons">search</i>
        </button>
      </div>
      <table class="patient-table">
        <thead>
          <tr>
            <th></th>
            <th>Id</th>
            <th>Full Name</th>
            <th>Gender</th>
            <th>Date of birth</th>
            <th>Address</th>
            <th>Email</th>
            <th>Contact</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let item of Patients; let i = index">
            <tr>
            <td>
                <button (click)="showDetails(item)" title="Show Details" class="details-button">
                  <i class="material-icons">info</i>
                </button>
              </td>
              <td>{{ item.Id }}</td>
              <td>{{ item.fullname }}</td>
              <td>{{ item.gender }}</td>
              <td>{{ item.birthday }}</td>
              <td>{{ item.address }}</td>
              <td>{{ item.email }}</td>
              <td>{{ item.contact }}</td>
              <td>
                <button (click)="editPatient(item)" title="Edit" class="edit-button">
                  <i class="material-icons">edit</i>
                </button>
                <button (click)="deletePatient(item)" title="Delete" class="delete-button">
                  <i class="material-icons">clear</i>
                </button>
                <button (click)="viewPatientFile(item)" title="ViewFile" class="view-button">
                  <i class="material-icons">file_open</i>
                </button>
              </td>
            </tr>
            <tr *ngIf="selectedPatient === item">
              <td colspan="9">
                <div class="details-container">
                  <p>Status : {{ selectedPatient?.status }}</p>
                  <p>Admited the : {{ selectedPatient?.admit }}</p>
                  <p>Discharged the: {{ selectedPatient?.discharge }}</p>
                </div>
              </td>
            </tr>
          </ng-container>
          <ng-template #noResults>
            <tr>
              <td colspan="9" style="text-align: center;">No matching results</td>
            </tr>
          </ng-template>
        </tbody>
      </table>
    </div>
  </body>
  